(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[176],{7752:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signin",function(){return c(9120)}])},9120:function(f,b,a){"use strict";a.r(b),a.d(b,{default:function(){return e}});var g=a(7568),h=a(4924),i=a(6042),j=a(9396),c=a(4051),k=a.n(c),l=a(5893),m=a(2645),d=a(1664),n=a.n(d),o=a(1955),p=a(8074),q=a(7294),r=a(9473),s=a(3739),t=a(843),u=a(1163);function e(){var d=(0,r.v9)(function(a){return a.auth}),p=(0,r.I0)(),v=(0,u.useRouter)();(0,q.useEffect)(function(){0!==Object.keys(d).length&&v.push("/")},[d]);var e,a=(0,q.useState)({email:"",password:""}),b=a[0],w=a[1],x=b.email,y=b.password,c=function(c){var a=c.target,d=a.name,e=a.value;w((0,j.Z)((0,i.Z)({},b),(0,h.Z)({},d,e)))},f=(0,q.useRef)(),z=function(a){a.target.checked?f.current.type="text":f.current.type="password"},m=(e=(0,g.Z)(k().mark(function a(c){var d,e,f;return k().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(c.preventDefault(),!(d=(0,s.Nj)(x,y))){a.next=4;break}return a.abrupt("return",p({type:"NOTIFY",payload:{error:d}}));case 4:return p({type:"NOTIFY",payload:{loading:"wait.."}}),a.next=7,(0,t.qC)("/signin",b);case 7:return e=a.sent,a.next=10,e.json();case 10:f=a.sent,console.log(f.refresh_token),f.success?(p({type:"NOTIFY",payload:{success:f.success}}),p({type:"AUTH",payload:f}),o.Z.set("refreshToken",f.refresh_token,{path:"/api/auth/accessToken",expires:7}),localStorage.setItem("firstlogin",!0)):p({type:"NOTIFY",payload:f});case 13:case"end":return a.stop()}},a)})),function(a){return e.apply(this,arguments)});return(0,l.jsx)("div",{className:"mt-4 px-5 py-5 signin bg-light container",children:(0,l.jsxs)("form",{onSubmit:m,children:[(0,l.jsxs)("div",{className:"form-group my-3",children:[(0,l.jsx)("label",{htmlFor:"emailInp",children:"Email address"}),(0,l.jsx)("input",{name:"email",type:"text",className:"form-control",id:"emailInp","aria-describedby":"emailHelp",placeholder:"Enter email",onChange:c}),(0,l.jsx)("small",{id:"emailHelp",className:"form-text text-muted",children:"We'll never share your email with anyone else."})]}),(0,l.jsxs)("div",{className:"form-group my-3",children:[(0,l.jsx)("label",{htmlFor:"passwordInp",children:"Password"}),(0,l.jsx)("input",{ref:f,name:"password",type:"password",className:"form-control",id:"passwordInp",placeholder:"Password",onChange:c})]}),(0,l.jsxs)("div",{className:"form-group form-check my-3",children:[(0,l.jsx)("input",{type:"checkbox",className:"form-check-input",id:"checkout",onChange:function(a){return z(a)}}),(0,l.jsx)("label",{className:"form-check-label",htmlFor:"checkout",children:"Check Password"})]}),(0,l.jsx)("button",{type:"submit",className:"btn btn-primary w-100",children:"Submit"}),(0,l.jsxs)("small",{children:["dont have an account ? ",(0,l.jsx)(n(),{href:"/register",children:"register"})]})]})})}e.getLayout=function(a){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(m.Z,{}),(0,l.jsx)(p.Z,{}),a]})}},3739:function(c,a,b){"use strict";b.d(a,{AD:function(){return g},Nj:function(){return f},P0:function(){return d}});var d=function(b,a,c){return b&&a&&c?e(b)?a.length<6?"password must be at least 6 characters":a!==c?"passwords are not the same":void 0:"email is invalid":"please add all fields!"},e=function(a){return String(a).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)},f=function(a,b){return a&&b?e(a)?b.length<6?"password must be at least 6 characters":void 0:"email is invalid":"please add all fields!"},g=function(b,a,c){return a&&b&&c?e(a)?void 0:"email is invalid":"please add all fields!"}}},function(a){a.O(0,[774,888,179],function(){var b;return a(a.s=7752)}),_N_E=a.O()}])